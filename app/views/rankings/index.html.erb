<!-- app/views/rankings/index.html.erb -->
<div class="rankings-container" data-controller="rankings">
  <div id="rankings_notice_container" data-rankings-target="notice"></div>
  
  <h1>Team Rankings</h1>

  <div class="pure-g">
    <div class="pure-u-1-3">
      <div class="ranking-column" data-category="technical">
        <h2>Technical Merit</h2>
        <ul class="ranking-list" id="technical-list">
          <% @technical_rankings.each do |ranking| %>
            <li class="ranking-item" data-team-id="<%= ranking.team.id %>">
              <%= ranking.team.name %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>

    <div class="pure-u-1-3">
      <div class="ranking-column" data-category="commercial">
        <h2>Commercial Merit</h2>
        <ul class="ranking-list" id="commercial-list">
          <% @commercial_rankings.each do |ranking| %>
            <li class="ranking-item" data-team-id="<%= ranking.team.id %>">
              <%= ranking.team.name %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>

    <div class="pure-u-1-3">
      <div class="ranking-column" data-category="overall">
        <h2>Overall Merit</h2>
        <ul class="ranking-list" id="overall-list">
          <% @overall_rankings.each do |ranking| %>
            <li class="ranking-item" data-team-id="<%= ranking.team.id %>">
              <%= ranking.team.name %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>

  <div class="save-container">
    <button id="save-rankings" class="pure-button pure-button-primary">Save Rankings</button>
  </div>
</div>

<style>
    .ranking-column {
        padding: 0 15px;
    }

    .ranking-list {
        list-style: none;
        padding: 0;
        margin: 0;
        min-height: 400px;
    }

    .ranking-item {
        padding: 10px;
        margin-bottom: 5px;
        background-color: #f5f5f5;
        border: 1px solid #ddd;
        border-radius: 4px;
        cursor: move;
    }

    .save-container {
        margin-top: 30px;
        text-align: center;
    }
    
    #notice_explanation.error h2 {
        color: #721c24;
        background-color: #f8d7da;
        border: 1px solid #f5c6cb;
    }
</style>
